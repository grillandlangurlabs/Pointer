<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pointer - HTML Game</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
    }
    #game-board {
        width: 400px;
        height: 400px;
        border: 2px solid black;
        margin: 0 auto;
        position: relative;
    }
    .player {
        width: 50px;
        height: 50px;
        background-color: blue;
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
    }
    .enemy {
        width: 30px;
        height: 30px;
        background-color: red;
        position: absolute;
    }
    .bullet {
        width: 5px;
        height: 10px;
        background-color: black;
        position: absolute;
    }
</style>
</head>
<body>
    <h1>Pointer - HTML Game</h1>
    <p>Use arrow keys to move, spacebar to shoot</p>
    <div id="game-board">
        <div class="player"></div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const player = document.querySelector('.player');
            const gameBoard = document.getElementById('game-board');
            let enemies = [];
            let bullets = [];
            let playerX = (gameBoard.clientWidth - player.clientWidth) / 2;
            let playerY = gameBoard.clientHeight - player.clientHeight;

            function createEnemy() {
                const enemy = document.createElement('div');
                enemy.classList.add('enemy');
                enemy.style.left = Math.floor(Math.random() * (gameBoard.clientWidth - 30)) + 'px';
                enemy.style.top = '0px';
                gameBoard.appendChild(enemy);
                enemies.push(enemy);
            }

            function moveEnemies() {
                enemies.forEach(enemy => {
                    let enemyY = parseInt(enemy.style.top);
                    enemyY += 5;
                    enemy.style.top = enemyY + 'px';
                    if (enemyY >= gameBoard.clientHeight) {
                        gameBoard.removeChild(enemy);
                        enemies = enemies.filter(e => e !== enemy);
                    }
                });
            }

            function moveBullets() {
                bullets.forEach(bullet => {
                    let bulletY = parseInt(bullet.style.top);
                    bulletY -= 10;
                    bullet.style.top = bulletY + 'px';

                    enemies.forEach(enemy => {
                        if (isColliding(bullet, enemy)) {
                            gameBoard.removeChild(bullet);
                            gameBoard.removeChild(enemy);
                            bullets = bullets.filter(b => b !== bullet);
                            enemies = enemies.filter(e => e !== enemy);
                        }
                    });

                    if (bulletY <= 0) {
                        gameBoard.removeChild(bullet);
                        bullets = bullets.filter(b => b !== bullet);
                    }
                });
            }

            function isColliding(a, b) {
                const aRect = a.getBoundingClientRect();
                const bRect = b.getBoundingClientRect();
                return !(
                    aRect.top > bRect.bottom ||
                    aRect.right < bRect.left ||
                    aRect.bottom < bRect.top ||
                    aRect.left > bRect.right
                );
            }

            function gameLoop() {
                createEnemy();
                moveEnemies();
                moveBullets();
                requestAnimationFrame(gameLoop);
            }
            gameLoop();

            document.addEventListener('keydown', function(event) {
                switch(event.key) {
                    case 'ArrowLeft':
                        if (playerX > 0) playerX -= 10;
                        break;
                    case 'ArrowRight':
                        if (playerX < gameBoard.clientWidth - player.clientWidth) playerX += 10;
                        break;
                    case ' ':
                        const bullet = document.createElement('div');
                        bullet.classList.add('bullet');
                        bullet.style.left = playerX + 22 + 'px';
                        bullet.style.top = playerY - 10 + 'px';
                        gameBoard.appendChild(bullet);
                        bullets.push(bullet);
                        break;
                }
                player.style.left = playerX + 'px';
            });
        });
    </script>
</body>
</html>
